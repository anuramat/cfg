# anuramat/nixos

## Fresh install

Better to do it from the tty, since GUI stuff starts to fall apart:
```bash
nix-shell -p gnumake git
git clone --depth 1 -- git@github.com:anuramat/nixos
sudo rm -rf /etc/nixos
sudo mv -T nixos /etc/nixos
nixos-generate-config
sudo nixos-rebuild switch # on hostname mismatch add --flake /etc/nixos#$(hostname)
wallust theme random # some configs are generated by wallust wrapper
```

## Finishing touches

```bash
nvim # fetch plugins, install TS parsers
ssh-keygen # generate a key
gh auth login # set up github
git remote set-url origin git@github.com:anuramat/nixos # switch to ssh
sudo tailscale up "--operator=$(whoami)" # set up tailscale
# etc: spotify, web browser, telegram, proton pass
```

## Structure

- `./config/*` - symlinked to `$XDG_CONFIG_HOME`
- `./home/*` - symlinked to `$HOME`
- `./nixos` - rsynced to `/etc/nixos` on `make`
- `./lib` - make deps

## XDG Base Directory Specification

`rg XDGBDSV` should show most of the violations.

## Notable hardcode

- Personal (`nixos/user.nix`, `rg -i 'anuramat|arsen'`, `.bashrc`)
- Git repository and `todo.txt` in `~/notes/`
- `/etc/nixos`

## Hardware (besides the machines)

- raspberry pi
- flipper zero
- kb/mice
