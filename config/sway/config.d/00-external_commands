set {
    $term foot
    # usage: $term_exec tui_app
    $term_exec foot
    $menu wmenu -i -f "Hack Nerd Font 16"
    $drun pkill wmenu || swaymsg exec "$(j4-dmenu-desktop -d '$menu -p run -l 5' -t $term -x --no-generic)"
    $todo_add pkill wmenu || swaymsg exec "$(echo '' | $menu -p task | xargs -I{} todo.sh add "{}")"
    $todo_done pkill wmenu || swaymsg exec "$(TODOTXT_VERBOSE=0 todo.sh -p ls | tac | $menu -p done -l 5 | cut -d ' ' -f 1 | xargs todo.sh done)"
    $lock loginctl lock-session

    # notifications {{{1
    $invoke_notificiation "makoctl invoke"
    $dismiss_notification "makoctl dismiss"
    $dismiss_all_notifications "makoctl dismiss --all"

    # screenshots {{{1
    # click to select a window, drag to select a region
    # WARN crazy magic
    $screenshot_mouse swaymsg -t get_tree \
    | jq -r '.. | (.nodes? // empty)[] | select(.pid and .visible) | .rect | "\(.x),\(.y) \(.width)x\(.height)"' \
    | slurp | xargs -I {} grim -g "{}" - | swappy -f -
    $screenshot_focused_window swaymsg -t get_tree \
    | jq -r '.. | (.nodes? // empty)[] | select(.focused) | .rect | "\(.x),\(.y) \(.width)x\(.height)"' \
    | xargs -I {} grim -g "{}" - | swappy -f -
    $screenshot_all_outputs grim - | swappy -f -
    $screenshot_focused_output grim -o $(swaymsg -t get_outputs | jq -r '.[] | select(.focused) | .name') - | swappy -f -

    # special keys {{{1
    $brightness_up lightctl up
    $brightness_down lightctl down

    $sound_up volumectl -u up
    $sound_down volumectl -u down
    $mute_sound volumectl toggle-mute
    $mute_mic volumectl -m toggle-mute

    $audio_prev playerctl -p spotify previous
    $audio_next playerctl -p spotify next
    $audio_play_pause playerctl -p spotify play-pause
    $audio_stop playerctl -p spotify stop

    $wlan_toggle wifi toggle
    $bluetooth_toggle bluetooth toggle
    # }}}
}

# vim: ft=swayconfig fdm=marker fdl=0
